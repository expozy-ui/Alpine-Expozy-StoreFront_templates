<!-- <div apiData="Hotel.get_hotel_room_types"></div> -->
<div class="w-full">

    <div class="w-full bg-gray-50 h-fit py-4 md:py-[70px] px-4">
        <ol class="md:flex space-y-4 justify-between w-full md:w-2/4 mx-auto">
            <li class="flex items-center text-black  space-x-2.5 rtl:space-x-reverse gap-">
                <span class="flex items-center justify-center w-8 h-8 md:w-10 md:h-10 text-base font-semibold bg-black text-white border rounded-full shrink-0 border-black">
                    1
                </span>
                <span>
                    <h3 class="font-medium leading-tight lg:text-lg">เลือกวันที่</h3>
                    <p class="text-sm">ระบุช่วงเวลาเข้าพัก</p>
                </span>
            </li>
            <li class="flex items-center text-black  space-x-2.5 rtl:space-x-reverse">
                <span class="flex items-center justify-center w-8 h-8 md:w-10 md:h-10 text-base font-semibold border border-black rounded-full shrink-0 ">
                    2
                </span>
                <span>
                    <h3 class="font-medium leading-tight lg:text-lg">เลือกห้อง</h3>
                    <p class="text-sm">เลือกตัวเลือกที่เหมาะสมที่สุด</p>
                </span>
            </li>
            <li class="flex items-center text-black  space-x-2.5 rtl:space-x-reverse">
                <span class="flex items-center justify-center w-8 h-8 md:w-10 md:h-10 text-base font-semibold border border-black rounded-full shrink-0 ">
                    3
                </span>
                <span>
                    <h3 class="font-medium leading-tight lg:text-lg">ชำระเงินและจอง</h3>
                    <p class="text-sm">ยืนยันและดำเนินการให้เสร็จสิ้น</p>
                </span>
            </li>
        </ol>
    </div>

    <p class="text-gray-900 text-base md:text-xl py-5 lg:py-14 text-center">เลือกวันที่เข้าพัก</p>

    <div class="w-full relative  z-1 lg:mt-10">
        <div class="grid grid-cols-1">
            <form>
                <div class="flex justify-center items-center">
                    <div class="col-span-3 relative flatpickr-input active" x-init="initCalendar($el)" readonly="readonly"></div>
                </div>

            </form>
        </div>
    </div>

</div>

<style>
    @media (max-width: 768px) {
        .flatpickr-calendar {
            transform: scale(1) !important;
        }

        .numInputWrapper,
        .cur-month {
            font-size: 12px !important;
        }
    }

    .flatpickr-day {
        width: 40px;
        height: 40px;
        line-height: 40px;
        font-size: 12px;
    }

    .flatpickr-calendar {
        transform: scale(1.4);
        /* transform-origin: top left; */
    }

    .numInputWrapper,
    .cur-month {
        font-size: 14px;
    }
</style>
<script>



    async function initCalendar(el) {
        await Helpers.loadFile(`/assets/plugins/flatpicker/flatpicker.css`);
        await Helpers.loadFile(`/assets/plugins/flatpicker/flatpicker.js`);


        let flatpickrInstance = flatpickr(el, {
            dateFormat: 'Y-m-d',
            minDate: 'today',
            mode: "range",
            inline: true,
            showMonths: window.innerWidth <= 768 ? 1 : 2,
            locale: {
                firstDayOfWeek: 0, // วันอาทิตย์เป็นวันแรก
                weekdays: {
                    shorthand: ["อา", "จ", "อ", "พ", "พฤ", "ศ", "ส"],
                    longhand: ["อาทิตย์", "จันทร์", "อังคาร", "พุธ", "พฤหัสบดี", "ศุกร์", "เสาร์"]
                },
                months: {
                    shorthand: ["ม.ค.", "ก.พ.", "มี.ค.", "เม.ย.", "พ.ค.", "มิ.ย.", "ก.ค.", "ส.ค.", "ก.ย.", "ต.ค.", "พ.ย.", "ธ.ค."],
                    longhand: ["มกราคม", "กุมภาพันธ์", "มีนาคม", "เมษายน", "พฤษภาคม", "มิถุนายน", "กรกฎาคม", "สิงหาคม", "กันยายน", "ตุลาคม", "พฤศจิกายน", "ธันวาคม"]
                }
            },
            onChange: function (selectedDates, dateStr, instance) {
                let datesSplit = dateStr.split(' ');
                if (datesSplit.length >= 2) {
                    // document.getElementById('date_start').value = datesSplit[0];
                    // document.getElementById('date_end').value = datesSplit[2];

                    localStorage.setItem('date_start', datesSplit[0]);
                    localStorage.setItem('date_end', datesSplit[2]);

                    data.date_start = datesSplit[0];
                    data.date_end = datesSplit[2];
                    href(`/${LANG}/accommodation`);
                    // alpineListeners('Hotel.get_hotel_room_types', document.getElementById('date_start'));

                } else {
                    // document.getElementById('date_start').value = '';
                    // document.getElementById('date_end').value = '';

                }

            },
        });
    }
</script>
