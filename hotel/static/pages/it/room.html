<div class="w-full dark:bg-gray-900 dark:text-gray-200 pt-10" apidata="Hotel.get_hotel_room_types" keyname="room" :data-id="data.corePage.target_id">

    <div class="container mx-auto px-4 relative z-10">

        <!-- Modern content card with improved layout -->
        <div class="mt-5 bg-white dark:bg-slate-800 rounded-xl shadow-xl overflow-hidden">
            <div class="flex flex-wrap">

                <!-- Main Content -->
                <div class="w-full lg:w-2/3 p-6 md:p-10">
                    <p x-text="room.title" class=" text-gray-900 font-bold text-4xl md:text-5xl leading-tight pb-4"></p>
                    <p x-text="room.seo_description" class=" text-slate-600 text-lg leading-relaxed"></p>
                    <template x-if="data.room">
                        <div class="relative">

                            <img :src="data.room.images[0] ? data.room.images[0].url : Helpers.image('product')" class=" rounded-md w-full aspect-video object-cover " alt="">

                            <div class="absolute  top-0 w-full  h-full">
                                <div class="swiper w-full h-full" x-data="initSwiper($el, {lazy: true, slidesPerView: 1,  pagination: { el: $el.querySelector('.swiper-pagination') } })">
                                    <div class="swiper-wrapper w-full h-full">
                                        <template x-for="image in data.room.images">
                                            <div class="swiper-slide w-full h-full">
                                                <img :src="image.url" class="w-full h-full object-cover" alt="" />
                                            </div>
                                        </template>
                                    </div>
                                    <div class="swiper-pagination "></div>
                                </div>
                            </div>
                        </div>
                    </template>
                    <!-- Article content with better typography -->
                    <div class="prose prose-slate dark:prose-invert max-w-none prose-headings:font-bold prose-a:text-[#c3a460] hover:prose-a:text-amber-700 mt-10 " x-html="data.room.description"></div>
                </div>

                <!-- Enhanced sidebar with modern card designs -->
                <div class="w-full lg:w-1/3 p-6 md:p-10 bg-slate-50 dark:bg-slate-900/50">

                    <form>
                        <input type="hidden" name="newRoom" value="1">
                        <input type="hidden" name="type" :value="data.room.id">

                        <div class="space-y-4" x-data="{roomsCount: 1}">

                            <div>
                                <label class="text-xs lg:text-base"> Numero di camere</label>
                                <select @change="roomsCount = parseInt($el.value)" name="roomsCount" id="" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                                    <template x-for="i in data.room.room_count">
                                        <option :value="i" x-text="i"></option>
                                    </template>
                                </select>
                            </div>

                            <div>
                                <template x-for="i in roomsCount">

                                    <div class="grid grid-cols-2 gap-4 mt-1">
                                        <div>
                                            <label for="" class="block mb-2 text-xs font-medium text-gray-900 dark:text-white">Ospiti</label>
                                            <select :name="'guests[]'" id="" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                                                <template x-for="i in data.room.guests">
                                                    <option :value="i" x-text="i">1</option>
                                                </template>
                                            </select>
                                        </div>

                                        <!-- <div>
                                            <label for="" class="block mb-2 text-xs font-medium text-gray-900 dark:text-white">Bambini</label>
                                            <input :name="'child[]'" type="number" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                                        </div> -->
                                    </div>

                                </template>
                            </div>

                            <p class="text-gray-900 py-4">
                                <span class="text-lg font-semibold" x-amount="data.room.price">121.80</span>
                                <span> a notte tasse incluse</span>
                            </p>

                            <button @click="await alpineListeners('Hotel.post_hotel_calculate', $event); href('/it/checkout')" class="w-full group relative inline-flex items-center justify-start overflow-hidden rounded-md px-5 py-3.5 h-fit bg-black ">
                                <span class="absolute left-0 top-0 h-32 w-32 -translate-y-2 translate-x-12 rotate-45 bg-gray-800 opacity-[3%]"></span>
                                <span class="absolute left-0 top-0 -mt-1 h-48 w-48 -translate-x-56 -translate-y-24 rotate-45 bg-white opacity-100 transition-all duration-500 ease-in-out group-hover:-translate-x-8"></span>
                                <span class="relative w-full text-left text-white transition-colors duration-200 ease-in-out group-hover:text-black font-normal uppercase"><i class="fa-solid fa-calendar-days mr-2"></i> Prenota ora</span>
                                <span class="absolute inset-0 rounded-md border border-gray-800"></span>
                            </button>
                        </div>
                    </form>

                    <!-- Related Posts -->

                    <template x-if="data.room.amenities">
                        <div class="mb-10 mt-10">
                            <h3 class="text-xl font-bold text-slate-900 dark:text-slate-100 mb-6">Servizi della camera</h3>
                            <div class="space-y-4">
                                <template x-for="amenitie in data.room.amenities">
                                    <div class="bg-white dark:bg-slate-800 rounded-lg shadow-md overflow-hidden cursor-pointer group">

                                        <div class="p-4 flex items-center gap-4">
                                            <span x-html="amenitie.icon" class="[&>svg]:w-5 "></span>
                                            <h4 class="text-base font-bold text-slate-900 dark:text-slate-100 " x-text="amenitie.title"></h4>
                                        </div>
                                    </div>
                                </template>
                            </div>
                        </div>
                    </template>
                </div>

            </div>
        </div>
    </div>
</div>
